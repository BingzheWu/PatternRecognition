w3=[-3.0 -2.9;
    0.5 8.7;
    2.9 2.1;
    -0.1 5.2;
    -4.0 2.2;
    -1.3 3.7;
    -3.4 6.2;
    -4.1 3.4;
    -5.1 1.6;
    1.9 5.1];
w4=[-2.0 -8.4;
    -8.9 0.2;
    -4.2 -7.7;
    -8.5 -3.2;
    -6.7 -4.0;
    -0.5 -9.2;
    -5.3 -6.7;
    -8.7 -6.4;
    -7.1 -9.7;
    -8.0 -6.3];
%输入样本


%样本预处理
[n1,m1]=size(w3);
[n2,m2]=size(w4);

s11=w3(:,1);
s12=w3(:,2);
ss1=[ones(n1,1) w3 s11.*s11 s11.*s12 s12.*s12]
s21=w4(:,1);
s22=w4(:,2);
ss2=[ones(n2,1) w4 s21.*s21 s21.*s22 s22.*s22]

clc
close all



%(a)
[a1,b1,V1,simida1]=smo2(ss1(1,:),ss2(1,:),100);
a1
b1
V1

%(b)
[a2,b2,V2,simida2]=smo2(ss1([1 2],:),ss2([1 2],:),100);
a2
b2
V2

%(c)
for t=1:min(n1,n2)
    t
    [a0,b0,V0,simida0]=smo2(ss1(1:t,:),ss2(1:t,:),100);
    if simida0==1
        disp('not linear');
        break;
    end
    a0
    b0
    V0
end
